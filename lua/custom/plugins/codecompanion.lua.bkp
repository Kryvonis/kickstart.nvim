-- return {
--   {
--     'olimorris/codecompanion.nvim',
--     opts = {},
--     dependencies = {
--       'nvim-lua/plenary.nvim',
--       'nvim-treesitter/nvim-treesitter',
--     },
--     adapters = {
--       -- copilot = function()
--       --   return require('codecompanion.adapters').extend('copilot', {
--       --     env = {
--       --       OPENAI_API_KEY = os.getenv 'OPENAI_API_KEY',
--       --     },
--       --     schema = {
--       --       model = {
--       --         default = 'gemini-2.5-pro',
--       --       },
--       --     },
--       --   })
--       -- end,
--       openai = function()
--         return require('codecompanion.adapters').extend('openai', {
--           opts = {
--             stream = true,
--           },
--           env = {
--             api_key = os.getenv 'OPENAI_API_KEY',
--           },
--           schema = {
--             model = {
--               default = function()
--                 return 'gpt-4.1'
--               end,
--             },
--           },
--         })
--       end,
--     },
--     keys = {
--       { '<leader>cc', '<cmd>CodeCompanionChat<cr>', desc = '[C]ode [C]ompanion Chat' },
--     },
--   },
-- }
